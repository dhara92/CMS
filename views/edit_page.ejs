<%- include('layouts/admin_header') -%>
    <main>
        <section>
            <div id="page">
               
            </div>
            <form method="POST" action="/edit_page/<%= page.id %>" enctype="multipart/form-data">
                <div class="form-field">
                    <label for="title">Title:</label>
                    <input type="text" class="form-input" name="title" value="<%= page.title %>">
                </div>
                <div class="form-field">
                    <label for="slug">Slug:</label>
                    <input type="text" class="form-input" name="slug" value="<%= page.slug %>">
                </div>
                <div class="form-field">
                    <label for="myimage">Image:</label>
                    <input type="file" class="form-input" name="image" id="myimage">
                </div>
                <div class="form-field">
                    <label for="content">Content:</label>
                    <textarea id="content" name="content"><%= page.content %></textarea>
                </div><br>
                <br>
                <div class="form-field">
                    <input type="submit" class="form-submit" value="Edit">
                </div>
            </form>
            <div class="error">
                    <% 
                    if(typeof errors !== 'undefined'){
                        for(var error of errors){
                            %>
                            <h3><%= error.msg %></h3>
                            <%
                        }
                    }
                %>
            </div>
            
        </section>
    </main>
    <script>
        ClassicEditor
        .create( document.querySelector( '#content' ) )
        .catch( error => {
            console.error( error );
        });
    </script>
